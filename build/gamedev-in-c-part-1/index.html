<!doctype html>
<html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-SXTREFVFLB"
        ></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-SXTREFVFLB");
        </script>

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <!-- Meta Description -->
        <meta name="description" content="GameDev in C Part 1: Hello World" />

        <!-- Keywords -->
        <meta
            name="keywords"
            content="Brian Douglas, blog, c,raylib,gamedev"
        />

        <!-- Author -->
        <meta name="author" content="Brian Douglas" />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta
            property="og:title"
            content="BrianDouglas.ie - GameDev in C Part 1: Hello World"
        />
        <meta property="og:description" content="GameDev in C Part 1: Hello World" />
        <meta property="og:url" content="https://www.briandouglas.ie" />
        <meta
            property="og:image"
            content="http://www.briandouglas.ie/images/og-images/gamedev-in-c-part-1.png"
        />
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="1280" />
        <meta property="og:image:height" content="640" />
        <meta property="og:site_name" content="BrianDouglas.ie" />
        <meta
            property="og:image:alt"
            content="A preview image for the post titled 'GameDev in C Part 1: Hello World'"
        />

        <!-- Twitter Meta -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@BrianDouglasIE" />
        <meta
            name="twitter:title"
            content="BrianDouglas.ie - GameDev in C Part 1: Hello World"
        />
        <meta name="twitter:description" content="GameDev in C Part 1: Hello World" />
        <meta
            name="twitter:image"
            content="http://www.briandouglas.ie/images/og-images/gamedev-in-c-part-1.png"
        />

        <!-- Canonical URL -->
        <link rel="canonical" href="https://www.briandouglas.ie" />

        <!-- Favicon (Optional) -->
        <link
            rel="icon"
            href="https://www.briandouglas.ie/favicon.ico"
            type="image/x-icon"
        />

        <!-- Robots -->
        <meta name="robots" content="index, follow" />

        <!-- Favicon-->
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="/apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="/favicon-16x16.png"
        />
        <link rel="manifest" href="/site.webmanifest" />

        <title>GameDev in C Part 1: Hello World</title>
        <link rel="stylesheet" href="/styles.css" />
        <style>
            pre code.hljs {
                display: block;
                overflow-x: auto;
                padding: 1em;
            }
            code.hljs {
                padding: 3px 5px;
            }
            .hljs {
                color: #24292e;
                background: #ffffff;
            }
            .hljs-doctag,
            .hljs-keyword,
            .hljs-meta .hljs-keyword,
            .hljs-template-tag,
            .hljs-template-variable,
            .hljs-type,
            .hljs-variable.language_ {
                color: #d73a49;
            }
            .hljs-title,
            .hljs-title.class_,
            .hljs-title.class_.inherited__,
            .hljs-title.function_ {
                color: #6f42c1;
            }
            .hljs-attr,
            .hljs-attribute,
            .hljs-literal,
            .hljs-meta,
            .hljs-number,
            .hljs-operator,
            .hljs-selector-attr,
            .hljs-selector-class,
            .hljs-selector-id,
            .hljs-variable {
                color: #005cc5;
            }
            .hljs-meta .hljs-string,
            .hljs-regexp,
            .hljs-string {
                color: #032f62;
            }
            .hljs-built_in,
            .hljs-symbol {
                color: #e36209;
            }
            .hljs-code,
            .hljs-comment,
            .hljs-formula {
                color: #6a737d;
            }
            .hljs-name,
            .hljs-quote,
            .hljs-selector-pseudo,
            .hljs-selector-tag {
                color: #22863a;
            }
            .hljs-subst {
                color: #24292e;
            }
            .hljs-section {
                color: #005cc5;
                font-weight: bold;
            }
            .hljs-bullet {
                color: #735c0f;
            }
            .hljs-emphasis {
                color: #24292e;
                font-style: italic;
            }
            .hljs-strong {
                color: #24292e;
                font-weight: bold;
            }
            .hljs-addition {
                color: #22863a;
                background-color: #f0fff4;
            }
            .hljs-deletion {
                color: #b31d28;
                background-color: #ffeef0;
            }
            .hljs-char.escape_,
            .hljs-link,
            .hljs-params,
            .hljs-property,
            .hljs-punctuation,
            .hljs-tag {
            }
        </style>
    </head>
    <body>
        <div class="content">
            <header class="site-header">
    <a href="/" class="home">Brian Douglas</a>

    <div class="svg-container">
        <a href="https://github.com/BrianDouglasIE" class="github">
            <svg
                height="32"
                aria-hidden="true"
                viewBox="0 0 24 24"
                width="32"
                data-view-component="true"
            >
                <path
                    d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"
                ></path>
            </svg>
        </a>

        <a
            href="https://linkedin.com/in/brian-douglas-90abb93ab"
            class="linkedin"
        >
            <svg
                viewBox="0 0 128 128"
                height="32"
                aria-hidden="true"
                width="32"
                data-view-component="true"
            >
                <path
                    d="M116 3H12a8.91 8.91 0 00-9 8.8v104.42a8.91 8.91 0 009 8.78h104a8.93 8.93 0 009-8.81V11.77A8.93 8.93 0 00116 3zM39.17 107H21.06V48.73h18.11zm-9-66.21a10.5 10.5 0 1110.49-10.5 10.5 10.5 0 01-10.54 10.48zM107 107H88.89V78.65c0-6.75-.12-15.44-9.41-15.44s-10.87 7.36-10.87 15V107H50.53V48.73h17.36v8h.24c2.42-4.58 8.32-9.41 17.13-9.41C103.6 47.28 107 59.35 107 75z"
                ></path>
            </svg>
        </a>
    </div>
</header>

            <div class="breadcrumbs">
                <a href="/">Home</a> / <span>GameDev in C Part 1: Hello World</span>
            </div>

            <main>
                <article class="post">
                    <header>
                        <h1>GameDev in C Part 1: Hello World</h1>
                        <time datetime="21/01/2025"
                            >January 21st, 2025</time
                        >
                    </header>

                    <div class="body"><p>This is the start of a new blog series. I will be documenting
my journey into building a game in C using <a href="https://www.raylib.com/">Raylib</a>.</p>
<p>This post details installing a C compiler and running a simple
program.</p>
<!-- more -->
<h2 id="illbeupfront">I'll be upfront</h2>
<p>For brevity I have given the post the subtitle <em>Hello World</em>.
The unabreviated title is <em>why the fuck is this so hard</em>.</p>
<p>Basically it took me waaay to long to install a C compiler, compile
a file using make, and then run that file to print "Hello World".
It gave me flash backs to my first year at uni trying to do the same
thing. It wasn't easy then either. But now, 12 years of professional
software engineering later, it's still a pain. A pain which I have
documented below. In the hope that it will help someone on their
journey to run and compile a basic C program. Realistically it will
only ever  help future Brian.</p>
<h2 id="howdoiinstallgcc">How do I install gcc?</h2>
<p><magpie-trinket>
Note: Windows 11 is the operating system used. The shell is PowerShell.
</magpie-trinket></p>
<p>I'm on Windows and I use <a href="https://chocolatey.org/">chocolatey</a> as a package
manager. So the first step is get chocolatey installed. Then run PowerShell
as an admin. As an ADMIN, remember that, or like me you'll have to search in
windows for the terminal and then right click the icon and select "run as admin".
There is no sudo here.</p>
<p>Now I bet you are thinking I just run <code>choco  install gcc</code>. Well you would be wrong.
In windows <code>gcc</code> is made available through <a href="https://www.mingw-w64.org/">MingW</a>. So
the command we run to  install <code>gcc</code> is:</p>
<pre><code class="hljs">choco <span class="hljs-keyword">install</span> mingw
</code></pre>
<h2 id="makebuild">make build</h2>
<p>It's entirely possible to compile and run a simple program using <code>gcc</code> alone. But I
want some sort of build system. So let's install make:</p>
<pre><code class="hljs">choco <span class="hljs-keyword">install</span> make
</code></pre>
<p>The first program I want to run is as follows.</p>
<pre class="c language-c"><code class="hljs c language-c"><span class="hljs-comment">// main.c</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Hello, World!&quot;</span>);
   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>Now it's here I make a time costing mistake. I use the following command to compile
the program.</p>
<pre><code class="hljs">gcc <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.c</span> -o build<span class="hljs-selector-class">.exe</span>
</code></pre>
<p>A seasoned C programmer will see the problem straight away. Not me. The command generates
<code>build.exe</code>. Now I run it with <code>./build.exe</code>. I should see "Hello, World!" printed to the
console. Instead I see the following.</p>
<pre><code class="hljs">Program <span class="hljs-string">&#x27;build.exe&#x27;</span> failed <span class="hljs-built_in">to</span> run: The specified executable is <span class="hljs-keyword">not</span> <span class="hljs-keyword">a</span> valid application <span class="hljs-keyword">for</span> this OS <span class="hljs-built_in">platform</span>.At <span class="hljs-built_in">line</span>:<span class="hljs-number">1</span>
<span class="hljs-keyword">char</span>:<span class="hljs-number">1</span>
+ .\build.exe
+ ~~~~~~~~~~~.
At <span class="hljs-built_in">line</span>:<span class="hljs-number">1</span> <span class="hljs-keyword">char</span>:<span class="hljs-number">1</span>
+ .\build.exe
+ ~~~~~~~~~~~
    + CategoryInfo          : ResourceUnavailable: (:) [], ApplicationFailedException
    + FullyQualifiedErrorId : NativeCommandFailed
</code></pre>
<p>Ok, so the error is telling me that the specified executable is not correct for the OS. 
So do I add <code>-m64</code> and make the command <code>gcc -m64 -c main.c -o build.exe</code>? Nope same 
error. So fast forward 2 hours, and I figure it out.</p>
<pre><code class="hljs">-c                       Compile and assemble, but <span class="hljs-keyword">do</span> not <span class="hljs-built_in">link</span>.
</code></pre>
<p>The <code>-c</code> flag is not needed. So I run:</p>
<pre><code class="hljs">gcc -c <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.c</span> -o build<span class="hljs-selector-class">.exe</span>
</code></pre>
<p>And voila <code>build.exe</code> prints "Hello, World!" to the console. Now I add the following
content to my make file.</p>
<pre><code class="hljs">build : <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.o</span>
    gcc -o build<span class="hljs-selector-class">.exe</span> <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.o</span>

<span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.o</span> : <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.c</span>
    gcc -c <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.c</span>

clean : 
    powershell Remove-Item *<span class="hljs-selector-class">.exe</span>, *<span class="hljs-selector-class">.o</span>
</code></pre>
<p>This allows me to run useful commands like <code>make clean</code>, and <code>make build</code>.</p>
<p>And that's a wrap for part 1. Tomorrow I will look at adding raylib to the project.</p></div>

                    <footer>
                        <p><i>Until next time,</i></p>
                        <p><i>Brian</i></p>
                    </footer>
                </article>
            </main>

            <footer class="site-footer">
    <p>
        <small>Since August 4th, 2023. All words by Brian
            Douglas. <a href="mailto:brianwdouglas@proton.me">Have a comment?</a></small>
    </p>
</footer>

        </div>

        <script src="/scripts/chicken-and-magpie.js"></script>
        <script src="/scripts/skip-to-section.js"></script>
    </body>
</html>
